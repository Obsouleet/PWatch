
<!DOCTYPE html>
<html>
	<head>
		<title>Stymple Configuration</title>
		<link rel='stylesheet' type='text/css' href='css/slate.min.css'>
  
		<script src='js/slate.min.js'></script>

		<style>
		  .title {
			padding: 15px 10px 0px 10px;
			text-transform: uppercase;
			font-family: 'PT Sans', sans-serif;
			font-size: 1.2em;
			font-weight: 500;
			color: #888888;
			text-align: center;
		  }
		</style>
	</head>
	<body>

		<canvas id="Canvas2" width="100" height = "100" style="padding-left: 0;
						padding-right: 0;
						margin-left: auto;
						margin-right: auto;
						margin-top: 10px;
						display: block;
						width: 100px;
						border:1px solid #000000;">
		</canvas>
		<div class='item-container'>
			<div class='item-container-content'>
				<label class='item'>
					Swap Colors
					<input id='inverted' type='checkbox' class='item-checkbox'>
				</label>
			</div>
		</div>

	

		<div class='item-container'>
			<div class='item-container-header'>Presets</div>
				<div class='item-container-content'>
					<div class='button-container'>
						<table style="margin-left:auto; margin-right:auto;"> 
							<tr> 
								<td style="width:90px; height:50px;"><input id='down_button' type='button' class='item-button' value='<'></td>
								<td><div id="Counter">1/27</div></td>
								<td style="width:90px; height:50px;"><input id='up_button' type='button' class='item-button' value='>'></td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class='item-container-header'>
			Or Choose Your Own Colors
		</div>
		<div class='item-container-content'>
			<label class='item'>
				Background Color
  				<input id='background' type='text' class='item-color item-color-normal' value='#000000'>
			</label>
			<label class='item'>
  				Foreground Color
  				<input id='foreground' type='text' class='item-color item-color-normal' value='#000000'>
			</label>
      		</div>
		<br>
		<div class='item-container'>
			<div class='item-container-content'>
				<label class='item'>
					12 Hour Format
					<input id='twelvehr' type='checkbox' class='item-checkbox'>
				</label>  
				<label class='item'>
					Show Date
					<input id='showdate' type='checkbox' class='item-checkbox'>
				</label>
			</div>
		</div>  
			
<!--		<div class='item-container-footer'>
			<br>
		</div>
-->
		<div class='item-container'>
			<div class='button-container'>
				<input id='submit_button' type='button' class='item-button' value='SUBMIT'>
			</div>
		</div>
		
	<!-- Start of StatCounter Code for Default Guide -->
		<script type="text/javascript">
			var sc_project=10634946; 
			var sc_invisible=1; 
			var sc_security="dafe4577"; 
			var scJsHost = (("https:" == document.location.protocol) ?	"https://secure." : "http://www.");
			document.write("<sc"+"ript type='text/javascript' src='" + scJsHost + "statcounter.com/counter/counter.js'></"+"script>");
		</script>
		<noscript>
			<div class="statcounter">
				<a title="shopify site analytics" href="http://statcounter.com/shopify/" target="_blank"><img class="statcounter" src="http://c.statcounter.com/10634946/0/dafe4577/1/" alt="shopify site analytics"></a>
			</div>
		</noscript>
	<!-- End of StatCounter Code for Default Guide -->
		<script>
		
function dechex(number) {
  if (number < 0) {
    number = 0xFFFFFFFF + number + 1;
  }
  return parseInt(number, 10)
    .toString(16);
}

function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}

		
			var aktfarbe=0;
			var gg=0;
			var one=0;
			var two=0;
			var three=0;

 			
			function draw_it() {
			
					//calc inbetween
					
				for (var stelle = 0; stelle < 3; stelle++) {
					steps[stelle] = (parseInt(drawcols[0].charAt(stelle + 1),16) - parseInt(drawcols[3].charAt(stelle + 1),16)) / 5 /3 ;
				}
				 
				drawcols[1] = "#" + dechex(parseInt(parseInt(drawcols[3].charAt(1),16) + parseInt(steps[0] * 2) * 5));
				drawcols[1] = drawcols[1].concat(dechex(parseInt(parseInt(drawcols[3].charAt(2),16) + parseInt(steps[1] * 2) * 5)));
				drawcols[1] = drawcols[1].concat(dechex(parseInt(parseInt(drawcols[3].charAt(3),16) + parseInt(steps[2] * 2) * 5)));
				
				drawcols[2] = "#" + dechex(parseInt(parseInt(drawcols[3].charAt(1),16) + parseInt(steps[0]) * 5));
				drawcols[2] = drawcols[2].concat(dechex(parseInt(parseInt(drawcols[3].charAt(2),16) + parseInt(steps[1]) * 5)));
				drawcols[2] = drawcols[2].concat(dechex(parseInt(parseInt(drawcols[3].charAt(3),16) + parseInt(steps[2]) * 5)));
				
				// draw
				var c2 = document.getElementById("Canvas2");
				var c2_context = c2.getContext("2d");
				
				c2_context.fillStyle = drawcols[0];
				c2_context.fillRect(0, 0, 100, 100);
				c2_context.fillStyle = drawcols[3];
				c2_context.fillRect(20, 60, 60, 20);	
c2_context.fillRect(30,20,30,20);
c2_context.fillRect(40,40,20,20);

			}
			
			function getConfigData() {
				//    var backgroundColorPicker = document.getElementById('background_color_picker');
				var inverted = document.getElementById('inverted');
				if(inverted.checked){one=1;} else {one=0;}
				if(twelvehr.checked){two=1;} else {two=0;}
				if(showdate.checked){three=1;} else {three=0;}
				


				var options = {

				  'inverted': one,
				  'twelvehr': two,
				  'showdate': three

				};
			 
				// Save for next launch
				localStorage['inverted'] = options['inverted'];
				localStorage['twelvehr'] = options['twelvehr'];
				localStorage['showdate'] = options['showdate'];
				

				console.log('Got options: ' + JSON.stringify(options));
				return options;
			}
			  
			function getQueryParam(variable, defaultValue) {
				var query = location.search.substring(1);
				var vars = query.split('&');
				for (var i = 0; i < vars.length; i++) {
					var pair = vars[i].split('=');
					if (pair[0] === variable) {
						return decodeURIComponent(pair[1]);
					}
				}
				return defaultValue || false;
			}
			 
			var submitButton = document.getElementById('submit_button');
			submitButton.addEventListener('click', function() {
				console.log('Submit');
				// Set the return URL depending on the runtime environment
				var return_to = getQueryParam('return_to', 'pebblejs://close#');
				document.location = return_to + encodeURIComponent(JSON.stringify(getConfigData()));
			});
			
			(function() {
				// var backgroundColorPicker = document.getElementById('background_color_picker');
				var inverted = document.getElementById('inverted');
				// Load any previously saved configuration, if available
				if(localStorage['inverted']) {
					console.log("got saved vars %d", aktfarbe);
					inverted.checked = JSON.parse(localStorage['inverted']);
					twelvehr.checked = JSON.parse(localStorage['twelvehr']);
					showdate.checked = JSON.parse(localStorage['showdate']);
				}
			})();
	  
			draw_it();
//			document.getElementById('Counter').innerHTML=  (aktfarbe+1).toString() + "/27";   
		</script>
	</body>
</html>

